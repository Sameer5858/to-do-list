(()=>{"use strict";var t={d:(e,a)=>{for(var d in a)t.o(a,d)&&!t.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:a[d]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function a(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function d(t){a(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function i(t,e){a(1,arguments);var i=e||{},n=i.locale,r=n&&n.options&&n.options.weekStartsOn,o=null==r?0:s(r),c=null==i.weekStartsOn?o:s(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=d(t),u=l.getDay(),p=(u<c?7:0)+u-c;return l.setDate(l.getDate()-p),l.setHours(0,0,0,0),l}function n(t,e,d){a(2,arguments);var s=i(t,d),n=i(e,d);return s.getTime()===n.getTime()}function r(t){a(1,arguments);var e=d(t);return e.setHours(0,0,0,0),e}function o(t,e){a(2,arguments);var d=r(t),s=r(e);return d.getTime()===s.getTime()}function c(t,d){let s;s=d||e();let i={name:t,id:s,tasks:[]};return{get name(){return i.name},set name(t){i.name=t},get id(){return i.id},get tasks(){return i.tasks},set tasks(t){i.tasks=t},addTask(...t){i.tasks.push(function(t,a,d,s,i,n){const r=e();let o={projectId:t,title:a,dueDate:d,description:s,priority:i,status:n,id:r};return{get projectId(){return t},set projectId(t){return o.projectId=t},get title(){return o.title},set title(t){o.title=t},get id(){return o.id},get description(){return o.description},set description(t){o.description=t},get dueDate(){return o.dueDate},set dueDate(t){o.dueDate=t},get priority(){return o.priority},set priority(t){o.priority=t},get status(){return o.status},toggleStatus(){o.status?o.status=!1:o.status=!0},get getDateFormatted(){const t=o.dueDate.split("-")[2];return`${o.dueDate.split("-")[1]}/${t}/${o.dueDate.split("-")[0]}`}}}(i.id,...t))},getTask:t=>i.tasks.find((e=>e.id===t)),deleteTask(t){const e=i.tasks.indexOf(this.getTask(t));i.tasks.splice(e,1)},getThisWeekTasks:()=>i.tasks.filter((t=>function(t,e){return a(1,arguments),n(t,Date.now(),e)}(new Date(t.getDateFormatted),{weekStartsOn:1}))),getTodayTasks:()=>i.tasks.filter((t=>function(t){return a(1,arguments),o(t,Date.now())}(new Date(t.getDateFormatted))))}}t.d({},{j:()=>S});const l=function(){let t={projects:[]};return t.projects.push(c("Inbox","inbox")),t.projects.push(c("Today","today")),t.projects.push(c("This Week","week")),{get projects(){return[...t.projects]},set projects(e){t.projects=e},addProject(e,a){t.projects.push(c(e,a))},getProject:e=>t.projects.find((t=>t.id===e)),deleteProject(e){const a=t.projects.indexOf(this.getProject(e));t.projects.splice(a,1)},weekTask(){t.projects[2].tasks=[],t.projects.forEach((e=>{"today"!==e.id&&"week"!==e.id&&e.getThisWeekTasks().forEach((e=>{t.projects[2].tasks.push(e)}))}))},todayTask(){t.projects[1].tasks=[],t.projects[2].getTodayTasks().forEach((e=>{t.projects[1].tasks.push(e)}))}}}();function u(){if(function(t){let e;try{e=window.localStorage;let t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}()){let t=JSON.stringify(S);localStorage.setItem("toDoList",t)}}const p=document.getElementById("project-container"),m=document.getElementById("task-container"),g=document.querySelector(".project-header"),k=document.getElementById("addTask"),y=document.getElementById("newProject"),j=document.getElementById("task"),b=document.getElementById("overlay"),v=document.getElementById("taskSubmit"),E=document.getElementById("editSubmitTask"),f=document.getElementById("title"),h=document.getElementById("description"),I=document.getElementById("dueDate"),T=document.getElementById("priority");function L(){j.classList.add("active"),b.classList.add("active")}function A(){j.classList.remove("active"),b.classList.remove("active"),f.value="",I.value="",h.value="",T.value="Low",v.style.display="block",E.style.display="none",D()}function D(){f.disabled=!1,h.disabled=!1,I.disabled=!1,T.disabled=!1,v.disabled=!0}function w(t){const e=S.getProject(t);if(!e)return;g.textContent=`${e.name}`;const a=e.tasks;m.innerHTML="",a.forEach((t=>{!function(t){const e=document.createElement("div"),a=document.createElement("div");a.classList.add("taskButtons");const d=document.createElement("button"),s=document.createElement("button");d.setAttribute("id","taskDetails"),s.setAttribute("id","editDetails"),d.textContent="Details",s.textContent="Edit",a.appendChild(s),a.appendChild(d);const i=document.createElement("div");e.classList.add(t.priority),d.addEventListener("click",(()=>{const t=i.getAttribute("data-project-id"),e=i.getAttribute("data-task-id"),a=S.getProject(t).getTask(e);f.value=a.title,h.value=a.description,I.value=a.dueDate,T.value=a.priority,f.disabled=!0,h.disabled=!0,I.disabled=!0,T.disabled=!0,v.disabled=!1,L(),v.style.display="none"})),s.setAttribute("data-task-id",`${t.id}`),s.setAttribute("data-project-id",`${t.projectId}`),s.addEventListener("click",(e=>{let a=e.target.getAttribute("data-project-id"),d=e.target.getAttribute("data-task-id");f.value=t.title,h.value=t.description,I.value=t.dueDate,T.value=t.priority,L(),D(),v.style.display="none",E.style.display="block",E.setAttribute("data-task-id",d),E.setAttribute("data-project-id",a)}));const n=document.createElement("div"),r=document.createElement("img");r.addEventListener("click",(t=>{!function(t,e){S.getProject(t).deleteTask(e),S.weekTask(),S.todayTask(),w(t),u()}(t.target.getAttribute("data-project-id"),t.target.getAttribute("data-task-id"))}));const o=document.createElement("input");t.status&&(e.classList.add("done"),o.checked=!0),o.addEventListener("click",(()=>{o.checked?(e.classList.add("done"),t.toggleStatus(),u()):(e.classList.remove("done"),t.toggleStatus(),u())})),r.setAttribute("id","close"),e.setAttribute("data-task-id",`${t.id}`),i.setAttribute("data-task-id",`${t.id}`),n.setAttribute("data-task-id",`${t.id}`),r.setAttribute("data-task-id",`${t.id}`),o.setAttribute("data-task-id",`${t.id}`),e.setAttribute("data-project-id",`${t.projectId}`),i.setAttribute("data-project-id",`${t.projectId}`),n.setAttribute("data-project-id",`${t.projectId}`),r.setAttribute("data-project-id",`${t.projectId}`),o.setAttribute("date-project-id",`${t.projectId}`),e.classList.add("task"),i.classList.add("task-title"),i.textContent=`${t.title}`,t.status&&i.classList.add("done"),n.textContent=`${t.dueDate}`,n.classList.add("duedate"),r.src="./icons/close.svg",o.setAttribute("type","checkbox"),o.setAttribute("id","taskstatus"),e.appendChild(o),e.appendChild(i),e.appendChild(n),e.appendChild(a),e.appendChild(r),m.appendChild(e)}(t)}))}function B(){S.projects.forEach((t=>{!function(t){if("inbox"!==t.id&&"today"!==t.id&&"week"!==t.id){const e=document.createElement("button"),a=document.createElement("div"),d=document.createElement("img"),s=document.createElement("img");s.addEventListener("click",(t=>{var e;e=t.target.getAttribute("data-project-id"),S.deleteProject(e),p.innerHTML="",B(),u(),w("inbox"),k.setAttribute("data-project-id","inbox")})),e.addEventListener("click",(t=>{const e=t.target.getAttribute("data-project-id");S.getProject(e)&&(k.setAttribute("data-project-id",e),w(e),y.classList.remove("active"))})),e.classList.add("project"),d.src="./icons/calendar-multiple-check.svg",s.src="./icons/close.svg",s.setAttribute("data-project-id",`${t.id}`),d.setAttribute("data-project-id",`${t.id}`),a.setAttribute("data-project-id",`${t.id}`),e.append(d),a.textContent=t.name,a.classList.add("text"),e.appendChild(a),e.appendChild(s),e.setAttribute("data-project-id",`${t.id}`),p.appendChild(e)}}(t)}))}E.addEventListener("click",(t=>{let e=S.getProject(t.target.getAttribute("data-project-id")).getTask(t.target.getAttribute("data-task-id"));e.title=f.value,e.description=h.value,e.dueDate=I.value,e.priority=T.value,A(),u(),w(e.projectId)}));let S=l;if(localStorage.getItem("toDoList")){let t=localStorage.getItem("toDoList");JSON.parse(t).projects.forEach((t=>{"inbox"!==t.id?"today"!==t.id&&"week"!==t.id&&(S.addProject(t.name,t.id),t.tasks.forEach((t=>{S.getProject(t.projectId).addTask(t.title,t.dueDate,t.description,t.priority,t.status)}))):t.tasks.forEach((t=>{S.getProject(t.projectId).addTask(t.title,t.dueDate,t.description,t.priority,t.status)}))})),S.weekTask(),S.todayTask(),B(),w("inbox")}const P=document.getElementById("addTask"),$=document.getElementById("addProject"),x=document.getElementById("newProject"),C=document.getElementById("overlay"),O=document.getElementById("taskSubmit"),N=document.getElementById("cancelTask"),_=document.getElementById("editSubmitTask"),M=document.getElementById("title"),H=document.getElementById("description"),R=document.getElementById("dueDate"),q=document.getElementById("priority"),F=document.querySelectorAll(".fixedBtns");$.addEventListener("click",(()=>{x.classList.add("active");const t=document.getElementById("projectSubmit"),e=document.getElementById("cancelProject"),a=document.getElementById("projectTitle");e.addEventListener("click",(t=>{t.preventDefault(),x.classList.remove("active"),a.value=""})),t.addEventListener("click",(t=>{var e;t.preventDefault(),a.value&&(e=a.value,p.innerHTML="",S.addProject(e),B(),u(),x.classList.remove("active"),a.value="")}))})),N.addEventListener("click",(()=>{A(),O.style.display="block",_.style.display="none"})),O.addEventListener("click",(t=>{const e=P.getAttribute("data-project-id");M.value&&(function(t,...e){m.innerHTML="",S.getProject(t).addTask(...e),S.weekTask(),S.todayTask(),w(t),u()}(e,M.value,R.value,H.value,q.value),A())})),F.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.getAttribute("data-project-id");P.setAttribute("data-project-id",e),w(e),x.classList.remove("active")}))})),P.addEventListener("click",(t=>{L(),O.disabled=!1})),C.addEventListener("click",(()=>{A(),O.style.display="block",_.style.display="none"}))})();