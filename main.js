(()=>{"use strict";var t={d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function a(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function s(t){a(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function d(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function n(t,e){a(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:d(r),c=null==n.weekStartsOn?o:d(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=s(t),u=l.getDay(),p=(u<c?7:0)+u-c;return l.setDate(l.getDate()-p),l.setHours(0,0,0,0),l}function i(t,e,s){a(2,arguments);var d=n(t,s),i=n(e,s);return d.getTime()===i.getTime()}function r(t){a(1,arguments);var e=s(t);return e.setHours(0,0,0,0),e}function o(t,e){a(2,arguments);var s=r(t),d=r(e);return s.getTime()===d.getTime()}function c(t,s){let d;d=s||e();let n={name:t,id:d,tasks:[]};return{get name(){return n.name},set name(t){n.name=t},get id(){return n.id},get tasks(){return n.tasks},set tasks(t){n.tasks=t},addTask(...t){n.tasks.push(function(t,a,s,d,n,i){const r=e();let o={projectId:t,title:a,dueDate:s,description:d,priority:n,status:i,id:r};return{get projectId(){return t},get title(){return o.title},set title(t){o.title=t},get id(){return o.id},get description(){return o.description},set description(t){o.description=t},get dueDate(){return o.dueDate},set dueDate(t){o.dueDate=t},get priority(){return o.priority},set priority(t){o.priority=t},get status(){return o.status},toggleStatus(){o.status?o.status=!1:o.status=!0},get getDateFormatted(){const t=o.dueDate.split("-")[2];return`${o.dueDate.split("-")[1]}/${t}/${o.dueDate.split("-")[0]}`}}}(n.id,...t))},getTask:t=>n.tasks.find((e=>e.id===t)),deleteTask(t){const e=n.tasks.indexOf(this.getTask(t));n.tasks.splice(e,1)},getThisWeekTasks:()=>n.tasks.filter((t=>function(t,e){return a(1,arguments),i(t,Date.now(),e)}(new Date(t.getDateFormatted),{weekStartsOn:1}))),getTodayTasks:()=>n.tasks.filter((t=>function(t){return a(1,arguments),o(t,Date.now())}(new Date(t.getDateFormatted))))}}t.d({},{j:()=>x});const l=function(){let t={projects:[]};return t.projects.push(c("Inbox","inbox")),t.projects.push(c("Today","today")),t.projects.push(c("This Week","week")),{get projects(){return[...t.projects]},set projects(e){t.projects=e},addProject(e,a){t.projects.push(c(e,a))},getProject:e=>t.projects.find((t=>t.id===e)),deleteProject(e){const a=t.projects.indexOf(this.getProject(e));t.projects.splice(a,1)},weekTask(){t.projects[2].tasks=[],t.projects.forEach((e=>{"today"!==e.id&&"week"!==e.id&&e.getThisWeekTasks().forEach((e=>{t.projects[2].tasks.push(e)}))}))},todayTask(){t.projects[1].tasks=[],t.projects[2].getTodayTasks().forEach((e=>{t.projects[1].tasks.push(e)}))}}}();function u(){if(function(t){let e;try{e=window.localStorage;let t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}()){let t=JSON.stringify(x);localStorage.setItem("toDoList",t)}}const p=document.getElementById("project-container"),m=document.getElementById("task-container"),g=document.querySelector(".project-header"),k=document.getElementById("addTask"),y=document.getElementById("newProject"),v=document.getElementById("task"),j=document.getElementById("overlay"),b=document.getElementById("taskSubmit"),E=document.getElementById("editSubmitTask"),f=document.getElementById("title"),h=document.getElementById("description"),T=document.getElementById("dueDate"),L=document.getElementById("priority");function I(){v.classList.add("active"),j.classList.add("active")}function D(){v.classList.remove("active"),j.classList.remove("active"),f.value="",T.value="",h.value="",L.value="Low",b.style.display="block",E.style.display="none",w()}function w(){f.disabled=!1,h.disabled=!1,T.disabled=!1,L.disabled=!1,b.disabled=!1}function A(){f.disabled=!0,h.disabled=!0,T.disabled=!0,L.disabled=!0,b.disabled=!0}function B(t,...e){m.innerHTML="",x.getProject(t).addTask(...e),x.weekTask(),x.todayTask(),S(t),u()}function S(t){const e=x.getProject(t);if(!e)return;g.textContent=`${e.name}`;const a=e.tasks;m.innerHTML="",a.forEach((t=>{!function(t){const e=document.createElement("div"),a=document.createElement("div");a.classList.add("taskButtons");const s=document.createElement("button"),d=document.createElement("button");s.setAttribute("id","taskDetails"),d.setAttribute("id","editDetails"),s.textContent="Details",d.textContent="Edit",a.appendChild(d),a.appendChild(s);const n=document.createElement("div");e.classList.add(t.priority),s.addEventListener("click",(()=>{const t=n.getAttribute("data-project-id"),e=n.getAttribute("data-task-id"),a=x.getProject(t).getTask(e);f.value=a.title,h.value=a.description,T.value=a.dueDate,L.value=a.priority,A(),I()})),d.addEventListener("click",(()=>{const t=n.getAttribute("data-project-id"),e=n.getAttribute("data-task-id"),a=x.getProject(t),s=a.getTask(e);f.value=s.title,h.value=s.description,T.value=s.dueDate,L.value=s.priority,A(),I(),w(),b.style.display="none",E.style.display="block",E.addEventListener("click",(()=>{f.value&&(a.deleteTask(e),B(t,f.value,T.value,h.value,L.value),D())}))}));const i=document.createElement("div"),r=document.createElement("img");r.addEventListener("click",(t=>{!function(t,e){x.getProject(t).deleteTask(e),x.weekTask(),x.todayTask(),S(t),u()}(t.target.getAttribute("data-project-id"),t.target.getAttribute("data-task-id"))}));const o=document.createElement("input");t.status&&(e.classList.add("done"),o.checked=!0),o.addEventListener("click",(()=>{o.checked?(e.classList.add("done"),t.toggleStatus(),u()):(e.classList.remove("done"),t.toggleStatus(),u())})),r.setAttribute("id","close"),e.setAttribute("data-task-id",`${t.id}`),n.setAttribute("data-task-id",`${t.id}`),i.setAttribute("data-task-id",`${t.id}`),r.setAttribute("data-task-id",`${t.id}`),o.setAttribute("data-task-id",`${t.id}`),e.setAttribute("data-project-id",`${t.projectId}`),n.setAttribute("data-project-id",`${t.projectId}`),i.setAttribute("data-project-id",`${t.projectId}`),r.setAttribute("data-project-id",`${t.projectId}`),o.setAttribute("date-project-id",`${t.projectId}`),e.classList.add("task"),n.classList.add("task-title"),n.textContent=`${t.title}`,t.status&&n.classList.add("done"),i.textContent=`${t.dueDate}`,i.classList.add("duedate"),r.src="./icons/close.svg",o.setAttribute("type","checkbox"),o.setAttribute("id","taskstatus"),e.appendChild(o),e.appendChild(n),e.appendChild(i),e.appendChild(a),e.appendChild(r),m.appendChild(e)}(t)}))}function P(){x.projects.forEach((t=>{!function(t){if("inbox"!==t.id&&"today"!==t.id&&"week"!==t.id){const e=document.createElement("button"),a=document.createElement("div"),s=document.createElement("img"),d=document.createElement("img");d.addEventListener("click",(t=>{var e;e=t.target.getAttribute("data-project-id"),x.deleteProject(e),p.innerHTML="",P(),u(),S("inbox"),k.setAttribute("data-project-id","inbox")})),e.addEventListener("click",(t=>{const e=t.target.getAttribute("data-project-id");x.getProject(e)&&(k.setAttribute("data-project-id",e),S(e),y.classList.remove("active"))})),e.classList.add("project"),s.src="./icons/calendar-multiple-check.svg",d.src="./icons/close.svg",d.setAttribute("data-project-id",`${t.id}`),s.setAttribute("data-project-id",`${t.id}`),a.setAttribute("data-project-id",`${t.id}`),e.append(s),a.textContent=t.name,a.classList.add("text"),e.appendChild(a),e.appendChild(d),e.setAttribute("data-project-id",`${t.id}`),p.appendChild(e)}}(t)}))}let x=l;if(localStorage.getItem("toDoList")){let t=localStorage.getItem("toDoList");JSON.parse(t).projects.forEach((t=>{"inbox"!==t.id?"today"!==t.id&&"week"!==t.id&&(x.addProject(t.name,t.id),t.tasks.forEach((t=>{x.getProject(t.projectId).addTask(t.title,t.dueDate,t.description,t.priority,t.status)}))):t.tasks.forEach((t=>{x.getProject(t.projectId).addTask(t.title,t.dueDate,t.description,t.priority,t.status)}))})),x.weekTask(),x.todayTask(),P(),S("inbox")}const $=document.getElementById("addTask"),C=document.getElementById("addProject"),O=document.getElementById("newProject"),N=document.getElementById("overlay"),_=document.getElementById("taskSubmit"),M=document.getElementById("cancelTask"),H=document.getElementById("editSubmitTask"),R=document.getElementById("title"),q=document.getElementById("description"),F=document.getElementById("dueDate"),W=document.getElementById("priority"),J=document.querySelectorAll(".fixedBtns");C.addEventListener("click",(()=>{O.classList.add("active");const t=document.getElementById("projectSubmit"),e=document.getElementById("cancelProject"),a=document.getElementById("projectTitle");e.addEventListener("click",(t=>{t.preventDefault(),O.classList.remove("active"),a.value=""})),t.addEventListener("click",(t=>{var e;t.preventDefault(),a.value&&(e=a.value,p.innerHTML="",x.addProject(e),P(),u(),O.classList.remove("active"),a.value="")}))})),M.addEventListener("click",(()=>{D(),_.style.display="block",H.style.display="none"})),J.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.getAttribute("data-project-id");$.setAttribute("data-project-id",e),S(e),O.classList.remove("active")}))})),_.addEventListener("click",(t=>{const e=$.getAttribute("data-project-id");R.value&&(B(e,R.value,F.value,q.value,W.value),D())})),$.addEventListener("click",(t=>{I()})),N.addEventListener("click",(()=>{D(),_.style.display="block",H.style.display="none"}))})();